"use strict";var FileLoader=function(e){this.selectors=document.querySelectorAll(e.selectors),this.init(),this.uploadImage(),this.removeImage()};FileLoader.prototype.isValidMimetype=function(e,t){return["image/jpeg","image/png","image/gif","image/pjpeg","image/svg+xml","image/webp","image/tiff"].includes(e)?!(t.querySelector(".error").innerText=""):!(t.querySelector(".error").innerText="You tried to upload not supported format. Available formats: jpg, png, jpeg, gif, svg, webp. Bad format.!")},FileLoader.prototype.init=function(){for(var e in this.selectors)this.selectors.hasOwnProperty(e)&&((e=this.selectors[e]).addEventListener("drop",FileLoader.prototype.drop.bind(e)),e.addEventListener("dragover",FileLoader.prototype.dragover.bind(e)),e.addEventListener("dragleave",FileLoader.prototype.dragleave.bind(e)))},FileLoader.prototype.drop=function(e){e.preventDefault();var t,M,e=e.dataTransfer.files[0];FileLoader.prototype.isValidMimetype(e.type,this.closest(".file-uploader"))&&(this.innerText=e.type+" - "+e.size/1e3+" KB",t=this.closest(".file-uploader").querySelector(".image"),(M=new FileReader).onloadend=function(){t.style.backgroundImage="url("+M.result+")"},M.readAsDataURL(e)),this.style.borderColor="#ced4da"},FileLoader.prototype.dragover=function(e){e.preventDefault(),this.style.borderColor="orange"},FileLoader.prototype.dragleave=function(e){e.preventDefault(),this.style.borderColor="#ced4da"},FileLoader.prototype.removeImage=function(){var t,M=this;for(t in this.selectors)this.selectors.hasOwnProperty(t)&&function(){var e=M.selectors[t].closest(".file-uploader");e.querySelector(".remove-image").addEventListener("click",function(){e.querySelector(".error").innerText="",e.querySelector(".button").innerText="Select image",e.querySelector(".image").style.backgroundImage="url(data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTI1NiAyMDUuNzczYy04LjM5NiAwLTE2LjMxMSAyLjA4MS0yMy4yNzQgNS43MzlsNjcuNzYyIDY3Ljc2MmMzLjY1OC02Ljk2MyA1LjczOS0xNC44NzggNS43MzktMjMuMjc0IDAtMjcuNjk1LTIyLjUzMi01MC4yMjctNTAuMjI3LTUwLjIyN3oiLz48cGF0aCBkPSJtMTczLjgzOCAxNTIuNjI1aDExLjYwOGwyMC4xMjUtMzIuMTI1aDEwMC44NTdsMjAuMTI1IDMyLjEyNWg5NS4wNzF2MjI1LjgxMmgtMjEuOTc0bDQ3LjY1OSA0Ny42NTljNDEuODE3LTQ2LjkwOSA2NC42OTEtMTA2Ljc0MSA2NC42OTEtMTcwLjA5NiAwLTY4LjM4LTI2LjYyOS0xMzIuNjY3LTc0Ljk4LTE4MS4wMi00OC4zNTMtNDguMzUxLTExMi42NC03NC45OC0xODEuMDItNzQuOTgtNjMuMzU1IDAtMTIzLjE4NyAyMi44NzQtMTcwLjA5NyA2NC42OXoiLz48cGF0aCBkPSJtMjU2IDMwNi4yMjdjOC4zOTYgMCAxNi4zMTEtMi4wODEgMjMuMjc0LTUuNzM5bC02Ny43NjItNjcuNzYyYy0zLjY1OCA2Ljk2My01LjczOSAxNC44NzgtNS43MzkgMjMuMjc0IDAgMjcuNjk1IDIyLjUzMiA1MC4yMjcgNTAuMjI3IDUwLjIyN3oiLz48cGF0aCBkPSJtMTIwLjM3NSAzNDguNDM4aDIwNi44NWwtMjYuMTI2LTI2LjEyNmMtMTIuODYxIDguNzc1LTI4LjM4OSAxMy45MTUtNDUuMDk4IDEzLjkxNS00NC4yMzcgMC04MC4yMjctMzUuOTktODAuMjI3LTgwLjIyNyAwLTE2LjcwOSA1LjE0MS0zMi4yMzggMTMuOTE1LTQ1LjA5OGwtMjguMjc3LTI4LjI3N2gtNDEuMDM3eiIvPjxwYXRoIGQ9Im0zNTcuMjI1IDM3OC40MzhoLTI2Ni44NXYtMjI1LjgxM2g0MS4wMzdsLTY2LjcyMi02Ni43MjJjLTQxLjgxNiA0Ni45MS02NC42OSAxMDYuNzQyLTY0LjY5IDE3MC4wOTcgMCA2OC4zOCAyNi42MjkgMTMyLjY2NyA3NC45OCAxODEuMDIgNDguMzUzIDQ4LjM1MSAxMTIuNjQgNzQuOTggMTgxLjAyIDc0Ljk4IDYzLjM1NSAwIDEyMy4xODctMjIuODc0IDE3MC4wOTctNjQuNjl6Ii8+PHBhdGggZD0ibTM5MS42MjUgMTgyLjYyNWgtODEuNjc5bC0yMC4xMjUtMzIuMTI1aC02Ny42NDNsLTE5LjQzOCAzMS4wMjggOC4xNjEgOC4xNjFjMTIuODYxLTguNzc1IDI4LjM4OS0xMy45MTUgNDUuMDk4LTEzLjkxNSA0NC4yMzcgMCA4MC4yMjcgMzUuOTkgODAuMjI3IDgwLjIyNyAwIDE2LjcwOS01LjE0MSAzMi4yMzgtMTMuOTE1IDQ1LjA5OGw0Ny4zMzkgNDcuMzM5aDIxLjk3NXoiLz48L2c+PC9zdmc+)",e.querySelector("input").value=""})}()},FileLoader.prototype.uploadImage=function(){var e,t=this;for(e in this.selectors)this.selectors.hasOwnProperty(e)&&function(){var M=t.selectors[e],r=M.closest(".file-uploader"),i=r.querySelector(".image");r.querySelector("input").addEventListener("change",function(){var e,t=this.files[0];FileLoader.prototype.isValidMimetype(t.type,r)&&(M.innerText=t.type+" - "+t.size/1e3+" KB",(e=new FileReader).onloadend=function(){i.style.backgroundImage="url("+e.result+")"},e.readAsDataURL(t))})}()},new FileLoader({selectors:".file-uploader .button"});
//# sourceMappingURL=script.min.js.map
